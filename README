# lab8 file system

lab8主要与文件系统相关，主要需要实现两个特性，大文件的支持以及软链接的实现

* 大文件的支持 `kernel/file.h kernel/fs.c` xv6中文件是通过12个inode直接映射block，1个inode间接映射block实现的，所以文件最大只能支持 12 + 1*(block/blocksize=1024/4) = 268个block

    1.为其增加大文件的支持，即向inode的结构中再添加一条三级映射block
    2.主要修改bmap(分配block)和itrunc(释放block) kernel/fs.c

* 软链接的实现 `kernel/sysfile.c` 软链接类似windows中的快捷方式。软链接类似C语言中的指针，建立的链接指向源文件所在的位置，当同一个文件需要在多个位置被用到的时候，就会使用到软链接。
    
    1.实现sys_symlink系统调用，同时再声明一个软链接的宏，以这种文件类型来创建文件
    
    2.修改sys_open `kernel/sysfile.c` 让它在遇到软链接的时候，递归跟随符号链接，直到跟随到非符号链接的inode为止
